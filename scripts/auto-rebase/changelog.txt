# ovn-kubernetes image-amd64 4bbd924efa35c8c9c5c1f4b5257aadfa2f7850a4 to f51b0c8d9a9d68be8edfb26be2851cd13f894be6
e8a480df9d089787397ef1ed644e6fa62b043c55 2023-01-17T15:21:24+01:00 EgressFirewall: smart clusterSubnet exclusion. Don't apply "&& dst != clusterSubnet" to every acl, since that will generate inefficient conjunctive flows in ovs. Every egress firewall ACL has "dst = <CIDR selector or dns name address set>", for CIDR selector only add clusterSubnet exclusion if CIDR selector has intersection with clusterSubnet. For dns address sets (since they are only used by egress firewall), don't add ips from clusterSubnet to dns address set, since we know these ips should be excluded.
0e3b1bbab3b2278d02c3d987e23d060ef4ba42ad 2023-01-17T15:20:33+01:00 Unify egress firewall implementation for both gateway modes, move all acls to the ClusterPortGroup. Unify unit tests for both gateway modes. Make sure egress firewall allows inbound connections.
# ovn-kubernetes image-arm64 4bbd924efa35c8c9c5c1f4b5257aadfa2f7850a4 to 84904bf654afd1288eed1573ccb448654a0f81a4
fe381839af1023d093c33668a204b5375ecbdbbf 2023-01-24T10:41:08+01:00 Dockerfile: bump OVN to 22.09.0-54
e8a480df9d089787397ef1ed644e6fa62b043c55 2023-01-17T15:21:24+01:00 EgressFirewall: smart clusterSubnet exclusion. Don't apply "&& dst != clusterSubnet" to every acl, since that will generate inefficient conjunctive flows in ovs. Every egress firewall ACL has "dst = <CIDR selector or dns name address set>", for CIDR selector only add clusterSubnet exclusion if CIDR selector has intersection with clusterSubnet. For dns address sets (since they are only used by egress firewall), don't add ips from clusterSubnet to dns address set, since we know these ips should be excluded.
0e3b1bbab3b2278d02c3d987e23d060ef4ba42ad 2023-01-17T15:20:33+01:00 Unify egress firewall implementation for both gateway modes, move all acls to the ClusterPortGroup. Unify unit tests for both gateway modes. Make sure egress firewall allows inbound connections.
