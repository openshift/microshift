assets:
  - dir: optional/ai-model-serving/
    no_clean: True
    files:
      - file: release-ai-model-serving-x86_64.json
        ignore: "Release info file"

# kserve
  - dir: optional/ai-model-serving/kserve/
    no_clean: True
    files:
      - file: kustomization.yaml
        ignore: "MicroShift specific overrides"
      - file: inferenceservice-config-microshift-patch.yaml
        ignore: "MicroShift specific overrides"
      - file: namespace.yaml
        ignore: "MicroShift specific overrides"

  - dir: optional/ai-model-serving/kserve/overlays/odh/
    src: rhoai/operator/kserve/overlays/odh/
    files:
      - file: kustomization.yaml
      - file: llm-svc-scc.yaml
      - file: network-policies.yaml
      - file: params.env
      - file: params.yaml
      - file: user-cluster-roles.yaml

  - dir: optional/ai-model-serving/kserve/overlays/odh/patches/
    src: rhoai/operator/kserve/overlays/odh/patches/
    files:
      - file: patch-inferenceservice-config.yaml
      - file: patch-set-resources-manager.yaml
      - file: patch-webhook-svc-openshift-cert-injection.yaml
      - file: remove-cert-manager.yaml
      - file: remove-clusterservingruntime.yaml
      - file: remove-local-model.yaml

  - dir: optional/ai-model-serving/kserve/default/
    src: rhoai/operator/kserve/default/
    files:
      - file: cainjection_conversion_webhook.yaml
      - file: clusterservingruntime_validatingwebhook_cainjection_patch.yaml
      - file: inferencegraph_validatingwebhook_cainjection_patch.yaml
      - file: isvc_mutatingwebhook_cainjection_patch.yaml
      - file: isvc_validatingwebhook_cainjection_patch.yaml
      - file: kustomization.yaml
      - file: llmisvcconfig_validatingwebhook_cainjection_patch.yaml
      - file: llmisvc_validatingwebhook_cainjection_patch.yaml
      - file: localmodelcache_validatingwebhook_cainjection_patch.yaml
      - file: localmodel_manager_image_patch.yaml
      - file: localmodelnode_agent_image_patch.yaml
      - file: manager_auth_proxy_patch.yaml
      - file: manager_image_patch.yaml
      - file: manager_prometheus_metrics_patch.yaml
      - file: manager_resources_patch.yaml
      - file: servingruntime_validationwebhook_cainjection_patch.yaml
      - file: trainedmodel_validatingwebhook_cainjection_patch.yaml

  - dir: optional/ai-model-serving/kserve/crd/
    src: rhoai/operator/kserve/crd/
    files:
      - file: kustomization.yaml

  - dir: optional/ai-model-serving/kserve/crd/external/gateway-inference-extension/
    src: rhoai/operator/kserve/crd/external/gateway-inference-extension/
    files:
      - file: kustomization.yaml
      - file: gateway-inference-extension.yaml

  - dir: optional/ai-model-serving/kserve/crd/external/opendatahub-operator/
    src: rhoai/operator/kserve/crd/external/opendatahub-operator/
    files:
      - file: kustomization.yaml
      - file: datasciencecluster.opendatahub.io_datascienceclusters.yaml
      - file: dscinitialization.opendatahub.io_dscinitializations.yaml

  - dir: optional/ai-model-serving/kserve/crd/full/
    src: rhoai/operator/kserve/crd/full/
    files:
      - file: kustomization.yaml
      - file: serving.kserve.io_clusterservingruntimes.yaml
      - file: serving.kserve.io_clusterstoragecontainers.yaml
      - file: serving.kserve.io_inferencegraphs.yaml
      - file: serving.kserve.io_inferenceservices.yaml
      - file: serving.kserve.io_llminferenceserviceconfigs.yaml
      - file: serving.kserve.io_llminferenceservices.yaml
      - file: serving.kserve.io_localmodelcaches.yaml
      - file: serving.kserve.io_localmodelnodegroups.yaml
      - file: serving.kserve.io_localmodelnodes.yaml
      - file: serving.kserve.io_servingruntimes.yaml
      - file: serving.kserve.io_trainedmodels.yaml

  - dir: optional/ai-model-serving/kserve/crd/patches/
    src: rhoai/operator/kserve/crd/patches/
    files:
      - file: protocol.yaml

  - dir: optional/ai-model-serving/kserve/configmap/
    src: rhoai/operator/kserve/configmap/
    files:
      - file: kustomization.yaml
      - file: inferenceservice.yaml

  - dir: optional/ai-model-serving/kserve/rbac/
    src: rhoai/operator/kserve/rbac/
    files:
      - file: auth_proxy_role_binding.yaml
      - file: auth_proxy_role.yaml
      - file: auth_proxy_service.yaml
      - file: kustomization.yaml
      - file: leader_election_role_binding.yaml
      - file: leader_election_role.yaml
      - file: role_binding.yaml
      - file: role.yaml
      - file: service_account.yaml

  - dir: optional/ai-model-serving/kserve/rbac/localmodel/
    src: rhoai/operator/kserve/rbac/localmodel/
    files:
      - file: role_binding.yaml
      - file: role.yaml
      - file: service_account.yaml

  - dir: optional/ai-model-serving/kserve/rbac/localmodelnode/
    src: rhoai/operator/kserve/rbac/localmodelnode/
    files:
      - file: role_binding.yaml
      - file: role.yaml
      - file: service_account.yaml

  - dir: optional/ai-model-serving/kserve/manager/
    src: rhoai/operator/kserve/manager/
    files:
      - file: kustomization.yaml
      - file: manager.yaml
      - file: service.yaml

  - dir: optional/ai-model-serving/kserve/webhook/
    src: rhoai/operator/kserve/webhook/
    files:
      - file: kustomization.yaml
      - file: manifests.yaml
      - file: service.yaml

  - dir: optional/ai-model-serving/kserve/localmodels/
    src: rhoai/operator/kserve/localmodels/
    files:
      - file: kustomization.yaml
      - file: manager.yaml

  - dir: optional/ai-model-serving/kserve/localmodelnodes/
    src: rhoai/operator/kserve/localmodelnodes/
    files:
      - file: kustomization.yaml
      - file: manager.yaml

  - dir: optional/ai-model-serving/kserve/llmisvc/
    src: rhoai/operator/kserve/llmisvc/
    files:
      - file: config-llm-decode-template.yaml
      - file: config-llm-decode-worker-data-parallel.yaml
      - file: config-llm-prefill-template.yaml
      - file: config-llm-prefill-worker-data-parallel.yaml
      - file: config-llm-router-route.yaml
      - file: config-llm-scheduler.yaml
      - file: config-llm-template.yaml
      - file: config-llm-worker-data-parallel.yaml
      - file: kustomization.yaml

  - dir: optional/ai-model-serving/kserve/certmanager/
    src: rhoai/operator/kserve/certmanager/
    files:
      - file: certificate.yaml
      - file: kustomization.yaml

  - dir: optional/ai-model-serving/kserve/monitoring/llmisvc/
    src: rhoai/operator/kserve/monitoring/llmisvc/
    files:
      - file: kustomization.yaml
      - file: rbac.yaml
      - file: istio_gateway_monitor.yaml

  # Serving Runtimes
  - dir: optional/ai-model-serving/runtimes/
    src: rhoai/operator/modelcontroller/runtimes/
    files:
      - file: kustomization.yaml
        git_restore: True
      - file: kustomization.x86_64.yaml
        ignore: "Generated during rebase"
      - file: caikit-standalone.yaml
        src: caikit-standalone-template.yaml
      - file: caikit-tgis.yaml
        src: caikit-tgis-template.yaml
      - file: hf-detector.yaml
        src: hf-detector-template.yaml
      - file: ovms-kserve.yaml
        src: ovms-kserve-template.yaml
      - file: vllm-cuda.yaml
        src: vllm-cuda-template.yaml
      - file: vllm-gaudi.yaml
        src: vllm-gaudi-template.yaml
      - file: vllm-rocm.yaml
        src: vllm-rocm-template.yaml
